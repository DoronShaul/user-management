# Test Database Configuration (use same as dev, tests are @Transactional so changes roll back)
spring.datasource.url=jdbc:mysql://localhost:3306/user_management
spring.datasource.username=root
spring.datasource.password=
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# Flyway Configuration for Tests
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true
spring.flyway.baseline-version=1
spring.flyway.locations=classpath:db/migration

# JWT Configuration for Tests (Base64-encoded 256-bit secret)
# This is: "test-secret-key-for-jwt-testing-purposes-only-must-be-at-least-256-bits"
app.security.jwt.secret=dGVzdC1zZWNyZXQta2V5LWZvci1qd3QtdGVzdGluZy1wdXJwb3Nlcy1vbmx5LW11c3QtYmUtYXQtbGVhc3QtMjU2LWJpdHM=
app.security.jwt.access-token-expiration=3600000
app.security.jwt.refresh-token-expiration=86400000
app.security.bcrypt.strength=4

# Rate Limiting (relaxed for tests)
app.security.rate-limit.login-attempts=100
app.security.rate-limit.login-window-minutes=60
app.security.rate-limit.account-lockout-attempts=100
app.security.rate-limit.account-lockout-duration-minutes=1

# Password Policy (relaxed for tests)
app.security.password.min-length=8
app.security.password.require-uppercase=false
app.security.password.require-lowercase=false
app.security.password.require-digit=false
app.security.password.require-special-char=false

# CORS
app.security.cors.allowed-origins=*

# Redis (disabled for tests)
spring.data.redis.host=localhost
spring.data.redis.port=6379

# Actuator
management.endpoints.web.exposure.include=health
management.endpoint.health.show-details=never
